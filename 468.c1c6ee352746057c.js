"use strict";(self.webpackChunkairways=self.webpackChunkairways||[]).push([[468],{4468:(B,g,s)=>{s.r(g),s.d(g,{PassengerModule:()=>$});var p=s(6895),o=s(4006),m=s(6032),t=s(4650),d=s(4859),u=s(811),f=s(7392),c=s(9549),_=s(4144),l=s(9602),A=s(455),b=s(266);function T(e,a){1&e&&(t.TgZ(0,"mat-error"),t._uU(1," First Name is required "),t.qZA())}function y(e,a){1&e&&(t.TgZ(0,"mat-error"),t._uU(1," Last Name is required "),t.qZA())}function F(e,a){1&e&&(t.TgZ(0,"mat-icon",24),t._uU(1,"check_small"),t.qZA())}function P(e,a){1&e&&(t.TgZ(0,"mat-icon",24),t._uU(1,"check_small"),t.qZA())}function I(e,a){1&e&&(t.TgZ(0,"mat-error"),t._uU(1," Date of birthday is required "),t.qZA())}function N(e,a){1&e&&(t.TgZ(0,"mat-error"),t._uU(1," Count is required "),t.qZA())}function q(e,a){if(1&e&&(t.TgZ(0,"div")(1,"mat-form-field",28)(2,"mat-label"),t._uU(3,"Count"),t.qZA(),t._UZ(4,"input",29),t.YNc(5,N,2,0,"mat-error",7),t.qZA()()),2&e){const n=t.oxw(2);t.xp6(5),t.Q6J("ngIf",n.checkIfError("countControl","required"))}}function U(e,a){if(1&e){const n=t.EpF();t.TgZ(0,"div",25)(1,"mat-slide-toggle",26)(2,"mat-icon"),t._uU(3,"accessible"),t.qZA(),t._uU(4," Need special assistance? "),t.qZA(),t.TgZ(5,"mat-slide-toggle",27),t.NdJ("change",function(){t.CHM(n);const i=t.oxw();return t.KtG(i.changeHasLugage())}),t.TgZ(6,"mat-icon"),t._uU(7,"work"),t.qZA(),t._uU(8," Lugage "),t.qZA(),t.YNc(9,q,6,1,"div",7),t.qZA()}if(2&e){const n=t.oxw();t.xp6(9),t.Q6J("ngIf",n.hasLugage)}}let h=(()=>{class e{constructor(){this.hasFooter=!0,this.infant=!1,this.hasLugage=!1,this.personForm=new o.cw({firstNameControl:new o.NI("",[o.kI.pattern("[a-zA-Z ]*"),o.kI.required]),secondNameControl:new o.NI("",[o.kI.pattern("[a-zA-Z ]*"),o.kI.required]),sexControl:new o.NI(""),birthdayControl:new o.NI("",o.kI.required),countControl:new o.NI("",[o.kI.required,o.kI.pattern("^[1-9]d*$")]),specAssistance:new o.NI(!1)})}changeHasLugage(){this.hasLugage=!this.hasLugage}checkIfError(n,r){return this.personForm.get(n)?.errors?.[`${r}`]}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-person"]],inputs:{hasFooter:"hasFooter",infant:"infant"},decls:44,vars:9,consts:[[1,"person"],["action","","novalidate","",1,"person__form","form",3,"formGroup"],[1,"person__body"],[1,"form__input-wrapper"],[1,"form__input"],["type","text","placeholder","First name","aria-label","text","matInput","","formControlName","firstNameControl"],["matSuffix","","matTooltip","Add the passenger's last name as it is written on their documents (passport or ID). Do not use any accents or special characters. Do not use a nickname. "],[4,"ngIf"],[1,"form__input","form__width200"],["type","text","placeholder","Last name","aria-label","text","matInput","","formControlName","secondNameControl"],[1,"form__radio-wrapper"],["appearance","legacy","name","fontStyle","aria-label","Font Style","formControlName","sexControl",1,"form__radio"],["value","Male","checked",""],["male",""],["matSuffix","",4,"ngIf"],["value","Female"],["female",""],[1,"dates","form__width300"],["matInput","","formControlName","birthdayControl",3,"matDatepicker"],["matIconSuffix","",3,"for"],["datepicker",""],["mat-button","","matDatepickerCancel",""],["mat-raised-button","","matDatepickerApply",""],["class","person__footer",4,"ngIf"],["matSuffix",""],[1,"person__footer"],["color","black","formControlName","specAssistance",1,"form__assistance"],["color","black",1,"form__lugage",3,"change"],[1,"count","form__width300"],["matInput","","formControlName","countControl","type","number"]],template:function(n,r){if(1&n&&(t.TgZ(0,"div",0)(1,"form",1)(2,"div",2)(3,"div",3)(4,"mat-form-field",4)(5,"mat-label"),t._uU(6,"First name"),t.qZA(),t._UZ(7,"input",5),t.TgZ(8,"mat-icon",6),t._uU(9,"info"),t.qZA(),t.YNc(10,T,2,0,"mat-error",7),t.qZA()(),t.TgZ(11,"div",3)(12,"mat-form-field",8)(13,"mat-label"),t._uU(14,"Last name"),t.qZA(),t._UZ(15,"input",9),t.TgZ(16,"mat-icon",6),t._uU(17,"info"),t.qZA(),t.YNc(18,y,2,0,"mat-error",7),t.qZA()(),t.TgZ(19,"div",10)(20,"mat-button-toggle-group",11)(21,"mat-button-toggle",12,13),t.YNc(23,F,2,0,"mat-icon",14),t._uU(24," Male "),t.qZA(),t.TgZ(25,"mat-button-toggle",15,16),t.YNc(27,P,2,0,"mat-icon",14),t._uU(28," Female "),t.qZA()()(),t.TgZ(29,"div",3)(30,"mat-form-field",17)(31,"mat-label"),t._uU(32,"Date"),t.qZA(),t._UZ(33,"input",18)(34,"mat-datepicker-toggle",19),t.TgZ(35,"mat-datepicker",null,20)(37,"mat-datepicker-actions")(38,"button",21),t._uU(39,"Cancel"),t.qZA(),t.TgZ(40,"button",22),t._uU(41,"Apply"),t.qZA()()(),t.YNc(42,I,2,0,"mat-error",7),t.qZA()()(),t.YNc(43,U,10,1,"div",23),t.qZA()()),2&n){const i=t.MAs(22),G=t.MAs(26),v=t.MAs(36);t.xp6(1),t.Q6J("formGroup",r.personForm),t.xp6(9),t.Q6J("ngIf",r.checkIfError("firstNameControl","required")),t.xp6(8),t.Q6J("ngIf",r.checkIfError("secondNameControl","required")),t.xp6(5),t.Q6J("ngIf",i.checked),t.xp6(4),t.Q6J("ngIf",G.checked),t.xp6(6),t.Q6J("matDatepicker",v),t.xp6(1),t.Q6J("for",v),t.xp6(8),t.Q6J("ngIf",r.checkIfError("birthdayControl","required")),t.xp6(1),t.Q6J("ngIf",r.hasFooter)}},dependencies:[p.O5,d.lW,u.A9,u.Yi,f.Hw,c.KE,c.hX,c.TO,c.R9,_.Nt,l.Mq,l.hl,l.nW,l.M5,l.dp,l.DK,A.Rr,b.gM,o._Y,o.Fj,o.wV,o.JJ,o.JL,o.sg,o.u],styles:["[_nghost-%COMP%]{margin-bottom:15px}.person__body[_ngcontent-%COMP%]{display:flex}.person__footer[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;align-items:center}.form[_ngcontent-%COMP%]{display:flex;flex-direction:column}.form__input[_ngcontent-%COMP%]{width:255px}.form__input-wrapper[_ngcontent-%COMP%]:not(:last-child){margin-right:20px}.form__radio-wrapper[_ngcontent-%COMP%], .form__assistance[_ngcontent-%COMP%], .form__lugage[_ngcontent-%COMP%]{margin-right:20px}"]}),e})();var k=s(5273);function M(e,a){if(1&e&&(t.TgZ(0,"option",11),t._uU(1),t.qZA()),2&e){const n=a.$implicit;t.Q6J("selected",0===a.index),t.xp6(1),t.AsE("",n.country," +",n.calling_code,"")}}function O(e,a){1&e&&(t.TgZ(0,"mat-error"),t._uU(1," Phone number required "),t.qZA())}function J(e,a){1&e&&(t.TgZ(0,"mat-error"),t._uU(1," Email is required "),t.qZA())}let C=(()=>{class e{constructor(){this.tels=k.M,this.contactForm=new o.cw({emailControl:new o.NI("",[o.kI.required,o.kI.email]),mobileControl:new o.NI("",[o.kI.required,o.kI.minLength(10),o.kI.pattern("[0-9]*")]),phoneRegionControl:new o.NI("+93",[o.kI.required])})}checkIfError(n,r){return this.contactForm.get(n)?.errors?.[`${r}`]}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-contact"]],decls:18,vars:4,consts:[[1,"contact"],["action","",1,"contact__form",3,"formGroup"],["appearance","fill",1,"contact__code"],["matNativeControl","","formControlName","phoneRegionControl"],["value",""],[3,"selected",4,"ngFor","ngForOf"],[1,"contact__phone"],["matInput","","placeholder"," e.g. 1111111111","type","tel","formControlName","mobileControl","required",""],[4,"ngIf"],[1,"contact__mail"],["type","email","matInput","","formControlName","emailControl","placeholder","Ex. pat@example.com"],[3,"selected"]],template:function(n,r){1&n&&(t.TgZ(0,"div",0)(1,"form",1)(2,"mat-form-field",2)(3,"mat-label"),t._uU(4,"Country code"),t.qZA(),t.TgZ(5,"select",3),t._UZ(6,"option",4),t.YNc(7,M,2,3,"option",5),t.qZA()(),t.TgZ(8,"mat-form-field",6)(9,"mat-label"),t._uU(10,"Mobile phone number"),t.qZA(),t._UZ(11,"input",7),t.YNc(12,O,2,0,"mat-error",8),t.qZA(),t.TgZ(13,"mat-form-field",9)(14,"mat-label"),t._uU(15,"Email"),t.qZA(),t._UZ(16,"input",10),t.YNc(17,J,2,0,"mat-error",8),t.qZA()()()),2&n&&(t.xp6(1),t.Q6J("formGroup",r.contactForm),t.xp6(6),t.Q6J("ngForOf",r.tels),t.xp6(5),t.Q6J("ngIf",r.checkIfError("mobileControl","required")),t.xp6(5),t.Q6J("ngIf",r.checkIfError("emailControl","required")))},dependencies:[p.sg,p.O5,c.KE,c.hX,c.TO,_.Nt,o._Y,o.YN,o.Kr,o.Fj,o.EJ,o.JJ,o.JL,o.Q7,o.sg,o.u],styles:[".contact[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;align-items:center;height:80px;padding:22px 44px;background:#FFFFFF;box-shadow:0 1px 4px #0003;border-radius:8px}.contact__code[_ngcontent-%COMP%]{margin-right:20px}.contact__phone[_ngcontent-%COMP%]{margin-right:40px}"]}),e})();var Z=s(9363),w=s(1831),x=s(8252),Q=s(9919);function Y(e,a){1&e&&t._UZ(0,"app-person")}function D(e,a){1&e&&t._UZ(0,"app-person")}function E(e,a){1&e&&t._UZ(0,"app-person",18),2&e&&t.Q6J("hasFooter",!1)("infant",!0)}let L=(()=>{class e{constructor(n,r){this.store=n,this.router=r,this.form=new o.cw({}),this.adults=0,this.childs=0,this.infants=0}ngAfterViewInit(){}ngOnInit(){this.adults$=this.store.select(m.mP),this.childs$=this.store.select(m.f5),this.infants$=this.store.select(m.bh),this.adults$.subscribe(n=>{this.adults=n}),this.childs$.subscribe(n=>{this.childs=n}),this.infants$.subscribe(n=>{this.infants=n})}getArray(n){return new Array(n).fill("")}buttonBackHandlerClick(){this.router.navigate(["/booking"])}buttonContinueHandlerClick(){this.dispatchPersonData(),this.router.navigate(["/booking/summary"])}isDisabledButton(){return!(this.contactChild&&this.personChild&&!this.contactChild.contactForm.invalid&&(this.personChild.some(n=>!!n.personForm.invalid),1))}dispatchPersonData(){this.store.dispatch((0,Z.di)(this.getContactObject())),this.personChild.forEach(n=>{const r=this.getPersonsDataObject(n);this.store.dispatch((0,Z.eN)(r))})}getContactObject(){return{code:this.contactChild.contactForm?.get("phoneRegionControl")?.value||"",email:this.contactChild.contactForm?.get("emailControl")?.value||"",phone:this.contactChild.contactForm?.get("mobileControl")?.value||""}}getPersonsDataObject(n){return{name:n.personForm.get("firstNameControl")?.value||"Aboba",sex:n.personForm.get("sexControl")?.value||"Male",lastName:n.personForm.get("secondNameControl")?.value||"Boban",birthDay:n.personForm.get("birthdayControl")?.value||"",infant:n.infant,specialAssistance:n.personForm.get("specAssistance")?.value||void 0,countWeight:n.personForm.get("countControl")?.value||void 0}}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(w.yh),t.Y36(x.F0))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-passenger"]],viewQuery:function(n,r){if(1&n&&(t.Gf(C,5),t.Gf(h,5)),2&n){let i;t.iGM(i=t.CRH())&&(r.contactChild=i.first),t.iGM(i=t.CRH())&&(r.personChild=i)}},decls:42,vars:4,consts:[[1,"passenger"],[1,"passenger__content"],[1,"passenger__passengers"],[1,"passenger__top"],[1,"passenger__header"],[1,"passenger__text"],[1,"passenger__body"],[1,"passenger__adults","passenger__part"],[1,"passenger__part-header"],[1,"passenger__part-body"],[4,"ngFor","ngForOf"],[1,"passenger__childs","passenger__part"],[1,"passenger__infants","passenger__part"],[3,"hasFooter","infant",4,"ngFor","ngForOf"],[1,"passenger__contacts"],[1,"passenger__buttons"],["mat-button","","color","primary",1,"tickets__buttons--first",3,"click"],["mat-raised-button","","color","primary","type","submit",3,"disabled","click"],[3,"hasFooter","infant"]],template:function(n,r){1&n&&(t.TgZ(0,"div",0),t._UZ(1,"app-flight-search"),t.TgZ(2,"div",1)(3,"div",2)(4,"div",3)(5,"div",4)(6,"mat-icon"),t._uU(7,"person"),t.qZA(),t._uU(8," Passengers "),t.qZA(),t.TgZ(9,"div",5),t._uU(10,"Enter the passenger's names as they appear on document (passport or ID). "),t.qZA()(),t.TgZ(11,"div",6)(12,"div",7)(13,"div",8),t._uU(14," 1. Adult "),t.qZA(),t.TgZ(15,"div",9),t.YNc(16,Y,1,0,"app-person",10),t.qZA()(),t.TgZ(17,"div",11)(18,"div",8),t._uU(19," 2. Child "),t.qZA(),t.TgZ(20,"div",9),t.YNc(21,D,1,0,"app-person",10),t.qZA()(),t.TgZ(22,"div",12)(23,"div",8),t._uU(24," 3. Infant "),t.qZA(),t.TgZ(25,"div",9),t.YNc(26,E,1,2,"app-person",13),t.qZA()()()(),t.TgZ(27,"div",14)(28,"div",3)(29,"div",4)(30,"mat-icon"),t._uU(31,"contact_page"),t.qZA(),t._uU(32," Contact details "),t.qZA(),t.TgZ(33,"div",5),t._uU(34,"We need contact details to be able to deliver the latest information regarding your flight. "),t.qZA()(),t.TgZ(35,"div",6),t._UZ(36,"app-contact"),t.qZA()(),t.TgZ(37,"div",15)(38,"button",16),t.NdJ("click",function(){return r.buttonBackHandlerClick()}),t._uU(39,"Back"),t.qZA(),t.TgZ(40,"button",17),t.NdJ("click",function(){return r.buttonContinueHandlerClick()}),t._uU(41,"Continue"),t.qZA()()()()),2&n&&(t.xp6(16),t.Q6J("ngForOf",r.getArray(r.adults)),t.xp6(5),t.Q6J("ngForOf",r.getArray(r.childs)),t.xp6(5),t.Q6J("ngForOf",r.getArray(r.infants)),t.xp6(14),t.Q6J("disabled",r.isDisabledButton()))},dependencies:[p.sg,d.lW,f.Hw,Q.M,h,C],styles:["[_nghost-%COMP%]{max-width:1140px}.passenger[_ngcontent-%COMP%]{max-width:1440px;margin:88px auto 40px;width:100%}.passenger__content[_ngcontent-%COMP%]{margin-top:40px;padding:0 155px}.passenger__header[_ngcontent-%COMP%]{font-size:24px;color:#11397e}.passenger__text[_ngcontent-%COMP%]{margin-top:10px;font-size:16px;letter-spacing:.5px;color:#49454f}.passenger__body[_ngcontent-%COMP%]{margin-top:20px}.passenger__part[_ngcontent-%COMP%]{padding:32px 44px;background:#FFFFFF;box-shadow:0 1px 4px #0003;border-radius:8px;height:100%}.passenger__part-header[_ngcontent-%COMP%]{font-weight:700;font-size:24px;color:#10264c}.passenger__part-body[_ngcontent-%COMP%]{margin-top:24px}.passenger__part[_ngcontent-%COMP%]:not(:last-child){margin-bottom:20px}.passenger__contacts[_ngcontent-%COMP%]{margin-top:40px}.passenger__buttons[_ngcontent-%COMP%]{margin-top:40px;display:flex;justify-content:flex-end;align-items:center}"]}),e})();var H=s(1965),j=s(7618);let $=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[H.m,p.ez,x.Bz.forChild([{path:"",component:L,canActivate:[j.D]}])]}),e})()}}]);